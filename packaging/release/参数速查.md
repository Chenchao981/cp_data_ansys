# 📋 CP数据分析工具 - 参数速查手册

> 快速了解输入输出文件结构、生成文件含义及参数说明

## 📁 文件结构一览

### 输入文件要求

```
📂 数据根目录/
├── 📄 wafer1.txt/.dcp     ← DCP测试数据文件
├── 📄 wafer2.txt/.dcp
├── 📂 子文件夹1/
│   ├── 📄 batch1.txt
│   └── 📄 batch2.txt
└── 📂 子文件夹2/
    └── 📄 more_data.dcp
```

**支持格式**：`.txt` `.dcp` `.TXT` `.DCP` 🔍

### 输出文件结构

```
📂 输出目录（自动命名：批次号_YYYYMMDD_HHMMSS）/
├── 📊 数据文件
│   ├── cleaned_data.csv              ← 清洗后的原始数据
│   └── processing_log_*.log          ← 处理日志
├── 📈 图表文件
│   ├── yield_chart_*.html            ← 良率分析图
│   ├── boxplot_*.html               ← 箱体统计图
│   └── summary_boxplot.html         ← 汇总对比图
└── 📋 其他
    └── temp_files/                  ← 临时文件（可删除）
```

---

## 📊 CSV文件说明

### `cleaned_data.csv` - 清洗后数据表

| 列名 | 含义 | 示例 |
|---|---|---|
| `Lot_ID` | 批次号 🏷️ | `ABC123-01` |
| `Wafer_ID` | 晶圆号 💿 | `W001` |
| `Die_X` | 芯片X坐标 📍 | `5` |
| `Die_Y` | 芯片Y坐标 📍 | `10` |
| `Test_Item` | 测试项目名 🧪 | `VDD_Current` |
| `Value` | 测试数值 📏 | `1.25` |
| `Unit` | 单位 📐 | `mA` |
| `Pass_Fail` | 通过/失败 ✅❌ | `Pass` / `Fail` |
| `Is_Outlier` | 是否异常值 ⚠️ | `True` / `False` |

**数据特点**：

- 🧹 已去除无效数据行
- 🔄 单位已标准化（如 µA → A）
- 🎯 异常值已标记但保留
- 📈 可直接用于进一步分析

---

## 📈 HTML图表文件说明

### 1. `yield_chart_*.html` - 良率分析图 📊

**用途**：显示各测试项的良率趋势

- **X轴**：测试项目名称
- **Y轴**：良率百分比 (0-100%)
- **颜色**：不同批次用不同颜色区分
- **交互**：
  - 🖱️ 悬停显示具体数值
  - 🔍 点击图例隐藏/显示数据系列
  - 📷 右上角工具栏可导出图片

### 2. `boxplot_*.html` - 箱体统计图 📦

**用途**：显示数据分布特征

```
箱体图解读：
     最大值 ─┐
            │ 上须
    上四分位─┤ ┐
            │ │ 箱体 (IQR)
      中位数─┤ │
            │ │
    下四分位─┤ ┘
            │ 下须
     最小值 ─┘
   ○ 异常值点
```

- **每个测试项一个箱体**
- **颜色编码**：Pass数据 vs Fail数据
- **统计信息**：悬停显示 Q1、Q2、Q3、均值等

### 3. `summary_boxplot.html` - 汇总对比图 🔄

**用途**：多批次横向对比

- **并排显示**：相同测试项的不同批次数据
- **一致配色**：相同测试项使用相同颜色
- **快速对比**：识别批次间差异

---

## ⚙️ 关键参数说明

### 异常值检测参数

- **方法**：IQR (四分位距) 方法 📐
- **阈值**：Q1 - 1.5×IQR ~ Q3 + 1.5×IQR
- **处理**：标记但不删除，保持数据完整性

### 良率计算参数

- **判定依据**：基于数据中的规格限 (Spec Limit)
- **Pass条件**：数值在规格范围内 ✅
- **Fail条件**：数值超出规格范围 ❌

### 单位转换参数

| 原单位 | 转换后 | 转换系数 |
|---|---|---|
| `µA` / `uA` | `mA` | ÷ 1000 |
| `nA` | `mA` | ÷ 1,000,000 |
| `pA` | `mA` | ÷ 1,000,000,000 |
| `V` | `V` | 无变化 |

---

## 🔧 使用技巧

### 文件命名建议

- ✅ **推荐**：`LOT123_W01_20241201.txt`
- ❌ **避免**：`测试数据@#$.txt`（特殊字符）

### 数据质量检查

1. **查看日志**：`processing_log_*.log` 了解处理详情
2. **检查异常值**：CSV中 `Is_Outlier=True` 的数据
3. **验证良率**：与预期良率对比

### 图表查看建议

- **浏览器**：推荐 Chrome/Edge，避免 IE 🌐
- **交互操作**：充分利用缩放、筛选功能
- **导出格式**：PNG适合报告，SVG适合编辑

---

## 📞 快速故障排除

| 问题现象 | 可能原因 | 解决方案 |
|---|---|---|
| CSV文件为空 | 输入文件格式不符 | 检查DCP文件格式 📄 |
| 图表无数据 | 所有数据被过滤 | 检查规格限设置 ⚙️ |
| 良率显示0% | Pass/Fail判定异常 | 查看日志文件 📋 |
| 单位显示异常 | 单位识别失败 | 检查原始数据单位列 🔍 |

---

💡 **提示**：首次使用建议用小批量测试数据验证结果，确认无误后再处理完整数据集。
